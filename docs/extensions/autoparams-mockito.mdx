---
sidebar_position: 2
---

import { JavaKotlinCodeBlock } from '@site/src/components/JavaKotlinCodeBlock';

# `autoparams-mockito`

`autoparams-mockito` is an extension of AutoParams that enables the automatic creation of test doubles for interfaces and abstract classes using Mockito, a widely used mocking framework for Java. With this extension, AutoParams can generate test doubles seamlessly—with minimal setup.

## Install

### Maven

For Maven, you can add the following dependency to your `pom.xml`:

```xml
<dependency>
  <groupId>io.github.autoparams</groupId>
  <artifactId>autoparams-mockito</artifactId>
  <version>10.0.0</version>
</dependency>
```

### Gradle (Groovy)

For Gradle Groovy DSL, use:

```gradle
testImplementation 'io.github.autoparams:autoparams-mockito:10.0.0'
```

### Gradle (Kotlin)

For Gradle Kotlin DSL, use:

```gradle
testImplementation("io.github.autoparams:autoparams-mockito:10.0.0")
```

## Generating Test Doubles with Mockito

Suppose you have an interface that represents a dependency:

<JavaKotlinCodeBlock>
```java
public interface Dependency {

    String getName();
}
```

```kotlin
interface Dependency {

    val name: String
}
```
</JavaKotlinCodeBlock>

And a system under test that relies on this dependency:

<JavaKotlinCodeBlock>
```java
public class SystemUnderTest {

    private final Dependency dependency;

    public SystemUnderTest(Dependency dependency) {
        this.dependency = dependency;
    }

    public String getMessage() {
        return "Hello " + dependency.getName();
    }
}
```

```kotlin
class SystemUnderTest(private val dependency: Dependency) {

    val message: String
        get() = "Hello ${dependency.name}"
}
```
</JavaKotlinCodeBlock>

By using the `@Customization(MockitoCustomizer.class`) annotation, AutoParams will automatically generate Mockito-based test doubles for eligible parameters (such as interfaces and abstract classes).

Here’s an example:

<JavaKotlinCodeBlock>
```java
@Test
@AutoParams
@Customization(MockitoCustomizer.class)
void testMethod(@Freeze Dependency stub, SystemUnderTest sut) {
    when(stub.getName()).thenReturn("World");
    assertEquals("Hello World", sut.getMessage());
}
```

```kotlin
@Test
@AutoParams
@Customization(MockitoCustomizer::class)
fun testMethod(@Freeze stub: Dependency, sut: SystemUnderTest) {
    whenever(stub.name).thenReturn("World")
    assertEquals("Hello World", sut.message)
}
```
</JavaKotlinCodeBlock>

In this test:

- `stub` is a test double automatically generated by Mockito.
- The `@Freeze` annotation ensures that the same `stub` instance is injected into the `SystemUnderTest`.
- You can configure the test double using standard Mockito syntax.

This integration streamlines test setup, enabling you to focus on verifying behavior rather than wiring dependencies manually.
